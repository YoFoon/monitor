var monitor=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=o(t);if(e){var c=o(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return r(this,n)}}var c=function(t){var e,o;return!(!t||"[object Object]"!==toString.call(t))&&(!(e=getProto(t))||"function"==typeof(o=hasOwn.call(e,"constructor")&&e.constructor)&&fnToString.call(o)===ObjectFunctionString)};var i=function t(){return new t.fn.init};i.fn=i.prototype={monitor:"1.0.0",constructor:i,length:0},i.extend=i.fn.extend=function(){var e,o,n,r,a,u,f=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof f&&(d=f,f=arguments[s]||{},s++),"object"!==t(f)&&"function"!=typeof f&&(f={}),s===l&&(f=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(o in e)r=e[o],"__proto__"!==o&&f!==r&&(d&&r&&(c(r)||(a=Array.isArray(r)))?(n=f[o],u=a&&!Array.isArray(n)?[]:!a&&c(n)?{}:n,a=!1,f[o]=i.extend(d,u,r)):void 0!==r&&(f[o]=r));return f},i.extend({isReady:!0,addLoadEvent:function(t){var e=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){e(),t()}},resourcesObj:performance&&"function"==typeof performance.getEntries?performance.getEntries():null,MAIN_DOMAIN:""}),"function"==typeof Symbol&&(i.fn[Symbol.iterator]=[][Symbol.iterator]);var u=performance&&performance.timing;function f(t){try{return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)})))}catch(e){return t}}function s(){var t,e=(t=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))+"-"+t),o=function(t){var e,o=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return document.cookie.match(o)?(e=document.cookie.match(o),unescape(e[2])):""}("monitorCustomerKey");if(!o){var n=new Date;n.setTime(n.getTime()+15552e7),document.cookie=i.MAIN_DOMAIN?"monitorCustomerKey="+e+";Path=/;domain="+i.MAIN_DOMAIN+";expires="+n.toGMTString():"monitorCustomerKey="+e+";Path=/;expires="+n.toGMTString(),o=e}return o}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(r,t);var o=a(r);function r(t,n,a,c,i,u,f,s,l,d,p,y){var S;return e(this,r),(S=o.call(this)).uploadType=t,S.loadType=n,S.loadPage=a,S.domReady=c,S.redirect=i,S.lookupDomain=u,S.ttfb=f,S.request=s,S.loadEvent=l,S.appcache=d,S.unloadEvent=p,S.connect=y,S}return r}((function t(){e(this,t),this.handleLogInfo=function(t,e){var o=localStorage[t]?localStorage[t]:"";switch(t){case"ELE_BEHAVIOR":localStorage.ELE_BEHAVIOR=o+JSON.stringify(e)+"$$$";break;case"JS_ERROR":localStorage.JS_ERROR=o+JSON.stringify(e)+"$$$";break;case"HTTP_LOG":localStorage.HTTP_LOG=o+JSON.stringify(e)+"$$$";break;case"SCREEN_SHOT":localStorage.SCREEN_SHOT=o+JSON.stringify(e)+"$$$";break;case"CUSTOMER_PV":localStorage.CUSTOMER_PV=o+JSON.stringify(e)+"$$$";break;case"LOAD_PAGE":localStorage.LOAD_PAGE=o+JSON.stringify(e)+"$$$";break;case"RESOURCE_LOAD":localStorage.RESOURCE_LOAD=o+JSON.stringify(e)+"$$$";break;case"CUSTOMIZE_BEHAVIOR":localStorage.CUSTOMIZE_BEHAVIOR=o+JSON.stringify(e)+"$$$";break;case"VIDEOS_EVENT":localStorage.VIDEOS_EVENT=o+JSON.stringify(e)+"$$$"}},this.happenTime=(new Date).getTime(),this.webMonitorId=WEB_MONITOR_ID||"",this.simpleUrl=window.location.href.split("?")[0].replace("#",""),this.completeUrl=f(encodeURIComponent(window.location.href)),this.customerKey=s();var o=localStorage.wmUserInfo?JSON.parse(localStorage.wmUserInfo):{};this.userId=o.userId,this.firstUserParam=f(o.firstUserParam||""),this.secondUserParam=f(o.secondUserParam||"")}));return i.extend({recordLoadPage:function(){console.log("recordLoadPage"),i.addLoadEvent((function(){setTimeout((function(){if(i.resourcesObj){var t="load";t=i.resourcesObj[0]&&"navigate"===i.resourcesObj[0].type?"load":"reload";var e=u,o=new l("LOAD_PAGE");o.loadType=t,o.loadPage=e.loadEventEnd-e.navigationStart,o.domReady=e.domComplete-e.responseEnd,o.redirect=e.redirectEnd-e.redirectStart,o.lookupDomain=e.domainLookupEnd-e.domainLookupStart,o.ttfb=e.responseStart-e.navigationStart,o.request=e.responseEnd-e.requestStart,o.loadEvent=e.loadEventEnd-e.loadEventStart,o.appcache=e.domainLookupStart-e.fetchStart,o.unloadEvent=e.unloadEventEnd-e.unloadEventStart,o.connect=e.connectEnd-e.connectStart,console.log(o),o.handleLogInfo("LOAD_PAGE",o)}}),1e3)}))}}),window.WEB_MONITOR_ID="111",i.recordLoadPage(),i}();
